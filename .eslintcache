[{"/Users/basil/Desktop/lamis-core/backup-module/src/index.js":"1","/Users/basil/Desktop/lamis-core/backup-module/src/App.js":"2","/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/context/ThemeContext.js":"3","/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/jsx/components/Home.js":"4","/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/context/ThemeDemo.js":"5","/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/jsx/components/Base.js":"6","/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/api.js":"7","/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/jsx/components/Restore.js":"8","/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/jsx/components/Backup.js":"9","/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/jsx/components/History.js":"10","/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/jsx/components/parts/LoadingMessageModal.js":"11","/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/jsx/components/hooks/useAuth.js":"12"},{"size":564,"mtime":1702550132987,"results":"13","hashOfConfig":"14"},{"size":579,"mtime":1702550132986,"results":"15","hashOfConfig":"14"},{"size":8947,"mtime":1702550133593,"results":"16","hashOfConfig":"14"},{"size":1772,"mtime":1702655734956,"results":"17","hashOfConfig":"14"},{"size":2920,"mtime":1702550133593,"results":"18","hashOfConfig":"14"},{"size":1753,"mtime":1702657285946,"results":"19","hashOfConfig":"14"},{"size":418,"mtime":1702655602424,"results":"20","hashOfConfig":"14"},{"size":1314,"mtime":1702550134702,"results":"21","hashOfConfig":"14"},{"size":1728,"mtime":1702550134701,"results":"22","hashOfConfig":"14"},{"size":6736,"mtime":1702564971305,"results":"23","hashOfConfig":"14"},{"size":1088,"mtime":1702550134702,"results":"24","hashOfConfig":"14"},{"size":774,"mtime":1702656403832,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"29"},"cuau6a",{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":1,"source":"40"},{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":1,"source":"47","usedDeprecatedRules":"29"},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":1,"source":"50","usedDeprecatedRules":"29"},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"29"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},"/Users/basil/Desktop/lamis-core/backup-module/src/index.js",["56"],"import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { BrowserRouter, MemoryRouter as Router } from \"react-router-dom\";\n\nimport SimpleReactLightbox from \"simple-react-lightbox\";\nimport ThemeContext from \"./../src/main/webapp/context/ThemeContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <SimpleReactLightbox>\n      <BrowserRouter basename=\"/\">\n        <ThemeContext>\n          <App />\n        </ThemeContext>\n      </BrowserRouter>\n    </SimpleReactLightbox>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n",["57","58"],"/Users/basil/Desktop/lamis-core/backup-module/src/App.js",[],"/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/context/ThemeContext.js",[],"/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/jsx/components/Home.js",["59","60","61","62"],"/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/context/ThemeDemo.js",[],"/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/jsx/components/Base.js",["63","64","65"],"import React, { useState, useEffect } from \"react\";\nimport { Container, Grid, Paper } from \"@mui/material\";\nimport axios from \"axios\";\nimport { token as token, url as baseUrl } from \"../../api\";\nimport Backup from \"./Backup\";\nimport Restore from \"./Restore\";\nimport History from \"./History\";\nimport useAuth from \"./hooks/useAuth\";\n\n\nconst Base = () => {\n  const [databaseBackup, setDatabaseBackup] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const userDetails = useAuth();\n  const currentOrganisationUnitName = userDetails.userDetails?.currentOrganisationUnitName;\n;\n  console.log(\"user\",userDetails);\n  console.log(\"current\",currentOrganisationUnitName )\n\n  const pullDatabaseBackup = () => {\n    axios\n      .get(`${baseUrl}database/backup-available`, {\n        headers: { Authorization: `Bearer ${token}` },\n      })\n      .then((response) => setDatabaseBackup(response.data));\n  };\n\n  useEffect(() => {\n    pullDatabaseBackup();\n  }, []);\n\n    const updatedDatabaseBackup = databaseBackup.map(\n      (backupItem) => currentOrganisationUnitName + \"_\" + backupItem\n    );\n\n  return (\n    <Container maxWidth=\"xl\">\n      <Grid container spacing={1}>\n        <br />\n        <Grid item xs={12} md={12}>\n          <Backup\n            pullDatabaseBackup={pullDatabaseBackup}\n            isLoading={isLoading}\n            setIsLoading={setIsLoading}\n          />\n        </Grid>\n        {/* <Grid item xs={12} md={6}>\n          <Paper elevation={3} variant=\"outlined\" square>\n            <Restore />\n          </Paper>\n        </Grid> */}\n        <Grid item xs={12} md={12}>\n          <br />\n          <History databaseBackup={updatedDatabaseBackup} />\n        </Grid>\n      </Grid>\n    </Container>\n  );\n};\n\nexport default Base;","/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/api.js",[],"/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/jsx/components/Restore.js",[],"/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/jsx/components/Backup.js",["66","67","68","69"],"import React, { useState } from \"react\";\nimport { CircularProgress, Snackbar } from \"@mui/material\";\nimport MatButton from \"@material-ui/core/Button\";\nimport axios from \"axios\";\nimport { token as token, url as baseUrl } from \"../../api\";\nimport { toast } from \"react-toastify\";\nimport BackupIcon from \"@mui/icons-material/Backup\";\nimport LoadingMessageModal from \"./parts/LoadingMessageModal\";\n\n\n\nconst Backup = (props) => {\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [isError, setIsError] = useState(false);\n\n  const handleBackup = () => {\n    props.setIsLoading(true);\n    // Call your backend API for backup here\n    try {\n      //console.log(\"backup Db..\");\n      axios\n        .get(`${baseUrl}database/backup`, {\n          headers: { Authorization: `Bearer ${token}` },\n        })\n        .then((response) => {\n          //console.log(response);\n          props.setIsLoading(false);\n          props.pullDatabaseBackup();\n          toast.success(\"Database Backup successfully\");\n        })\n        .catch((error) => {\n          toast.error(\"Error: Database Backup failed!\");\n          props.setIsLoading(false);\n        });\n      setIsSuccess(true);\n    } catch (error) {\n      setIsError(true);\n    }\n  };\n\n  return (\n    <div>\n      <MatButton\n        variant=\"contained\"\n        startIcon={<BackupIcon />}\n        onClick={handleBackup}\n        disabled={isSuccess}\n        style={{ backgroundColor: \"#014d88\", color: \"#fff\", float: \"right\" }}\n      >\n        {\"Backup Database\"}\n      </MatButton>\n            {/* {<LoadingMessageModal   show={true} /> } */}\n\n      {props.isLoading && <LoadingMessageModal   show={true} message='Backing Up Database...'/>  }\n    </div>\n  );\n};\n\nexport default Backup;\n","/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/jsx/components/History.js",["70","71","72","73"],"import React, { useState, forwardRef } from \"react\";\nimport MaterialTable from \"material-table\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nimport { token as token, url as baseUrl } from \"../../api\";\nimport Button from \"@mui/material/Button\";\nimport DownloadIcon from \"@mui/icons-material/Download\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport RestoreIcon from \"@mui/icons-material/Restore\";\nimport LoadingMessageModal from \"./parts/LoadingMessageModal\";\nimport AddBox from \"@material-ui/icons/AddBox\";\nimport ArrowUpward from \"@material-ui/icons/ArrowUpward\";\nimport Check from \"@material-ui/icons/Check\";\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\nimport Clear from \"@material-ui/icons/Clear\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport Edit from \"@material-ui/icons/Edit\";\nimport FilterList from \"@material-ui/icons/FilterList\";\nimport FirstPage from \"@material-ui/icons/FirstPage\";\nimport LastPage from \"@material-ui/icons/LastPage\";\nimport Remove from \"@material-ui/icons/Remove\";\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\nimport Search from \"@material-ui/icons/Search\";\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\n\nconst tableIcons = {\n  Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\n  Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\n  Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n  Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\n  DetailPanel: forwardRef((props, ref) => (\n    <ChevronRight {...props} ref={ref} />\n  )),\n  Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\n  Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\n  Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\n  FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\n  LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\n  NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n  PreviousPage: forwardRef((props, ref) => (\n    <ChevronLeft {...props} ref={ref} />\n  )),\n  ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n  Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\n  SortArrow: forwardRef((props, ref) => <ArrowUpward {...props} ref={ref} />),\n  ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\n  ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\n};\n\nconst useStyles = makeStyles((theme) => ({\n  card: {\n    margin: theme.spacing(20),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  cardBottom: {\n    marginBottom: 20,\n  },\n  Select: {\n    height: 45,\n    width: 350,\n  },\n  button: {\n    margin: theme.spacing(1),\n  },\n\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n    },\n  },\n  input: {\n    display: \"none\",\n  },\n  error: {\n    color: \"#f85032\",\n    fontSize: \"11px\",\n  },\n  success: {\n    color: \"#4BB543 \",\n    fontSize: \"11px\",\n  },\n}));\n\nconst History = (props) => {\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n\n  console.log(props);\n\n  const handleDownload = (row) => {\n    console.log(\"download\", row);\n    setLoading(true)\n    axios({\n      url: `${baseUrl}database/download/${row}`,\n      method: \"GET\",\n      responseType: \"blob\",\n      headers: { Authorization: `Bearer ${token}` },\n    })\n      .then((response) => {\n        setLoading(false)\n\n        const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\"download\", row);\n        document.body.appendChild(link);\n        link.click();\n        toast.success(\"Backup Downloaded successfully\");\n        return;\n      })\n      .catch((error) => {\n        setLoading(false)\n\n        toast.error(\"Error: Could not download file!\");\n      });\n\n    // axios\n    //   .get(`${baseUrl}database/download/${row}`, {\n    //     headers: { Authorization: `Bearer ${token}` },\n    //   })\n    //   .then((response) => console.log(response))\n    //   .catch((err) => console.log(err));\n  };\n\n  // const restoreDownload = (row) => {\n  //   console.log(\"restore\", row);\n  //   axios\n  //     .get(`${baseUrl}database/restore/${row}`, {\n  //       headers: { Authorization: `Bearer ${token}` },\n  //     })\n  //     .then((response) => response)\n  //     .catch((err) => console.log(err));\n  // };\n\n  return (\n    <div>\n      {\" \"}\n      <MaterialTable\n        icons={tableIcons}\n        title=\"Database Backup History\"\n        columns={[\n          { title: \"File Name\", field: \"filename\" },\n          { title: \"Action\", field: \"actions\" },\n        ]}\n        // isLoading={loading}\n        data={props.databaseBackup.map((row) => ({\n          filename: row,\n          actions: (\n            <>\n              <Button\n                variant=\"contained\"\n                startIcon={<DownloadIcon size=\"22\" />}\n                style={{\n                  backgroundColor: \"rgb(153, 46, 98)\",\n                  height: \"30px\",\n                  width: \"130px\",\n                }}\n                onClick={() => handleDownload(row)}\n              >\n                Download\n              </Button>{\" \"}\n              {/* <Button\n                variant=\"contained\"\n                endIcon={<RestoreIcon size=\"22\" />}\n                style={{\n                  backgroundColor: \"rgb(153, 46, 98)\",\n                  height: \"30px\",\n                  width: \"130px\",\n                }}\n                onClick={() => restoreDownload(row)}\n              >\n                Restore\n              </Button> */}\n            </>\n          ),\n        }))}\n        options={{\n          headerStyle: {\n            backgroundColor: \"#014d88\",\n            color: \"#fff\",\n            fontSize: \"16px\",\n            padding: \"10px\",\n          },\n          searchFieldStyle: {\n            width: \"200%\",\n            margingLeft: \"250px\",\n          },\n          selection: false,\n          filtering: false,\n          exportButton: false,\n          searchFieldAlignment: \"left\",\n          pageSizeOptions: [10, 20, 100],\n          pageSize: 10,\n          debounceInterval: 400,\n        }}\n        //onChangePage={handleChangePage}\n        //localization={localization}\n      />\n\n      {loading && <LoadingMessageModal   show={true} message='Downloading...'/> } \n    </div>\n  );\n};\n\nexport default History;\n","/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/jsx/components/parts/LoadingMessageModal.js",["74","75"],"import Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport { CircularProgress, Snackbar } from \"@mui/material\";\n\nfunction LoadingMessageModal(props) {\n  return (\n\n    <div style={{maxWidth: '100px'}}>\n            <Modal\n      {...props}\n    //   size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n   \n      <Modal.Body>\n        <h4 style={{display: 'flex', gap: '10px', alignItems: 'center', justifyContent: 'center'}}> <CircularProgress size={34} /> <span>{props.message}</span></h4>\n        <p>\n   \n        </p>\n      </Modal.Body>\n     \n    </Modal>\n\n    </div>\n  );\n}\n\nexport default LoadingMessageModal\n\n// function App() {\n//   const [modalShow, setModalShow] = React.useState(false);\n\n//   return (\n//     <>\n//       <Button variant=\"primary\" onClick={() => setModalShow(true)}>\n//         Launch vertically centered modal\n//       </Button>\n\n//       <MyVerticallyCenteredModal\n//         show={modalShow}\n//         onHide={() => setModalShow(false)}\n//       />\n//     </>\n//   );\n// } \n\n// render(<App />);","/Users/basil/Desktop/lamis-core/backup-module/src/main/webapp/jsx/components/hooks/useAuth.js",[],{"ruleId":"76","severity":1,"message":"77","line":4,"column":41,"nodeType":"78","messageId":"79","endLine":4,"endColumn":47},{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","replacedBy":"83"},{"ruleId":"76","severity":1,"message":"84","line":2,"column":10,"nodeType":"78","messageId":"79","endLine":2,"endColumn":20},{"ruleId":"76","severity":1,"message":"85","line":15,"column":10,"nodeType":"78","messageId":"79","endLine":15,"endColumn":16},{"ruleId":"76","severity":1,"message":"86","line":15,"column":18,"nodeType":"78","messageId":"79","endLine":15,"endColumn":27},{"ruleId":"76","severity":1,"message":"87","line":19,"column":10,"nodeType":"78","messageId":"79","endLine":19,"endColumn":21},{"ruleId":"76","severity":1,"message":"88","line":2,"column":27,"nodeType":"78","messageId":"79","endLine":2,"endColumn":32},{"ruleId":"89","severity":1,"message":"90","line":4,"column":10,"nodeType":"91","messageId":"92","endLine":4,"endColumn":24,"fix":"93"},{"ruleId":"76","severity":1,"message":"94","line":6,"column":8,"nodeType":"78","messageId":"79","endLine":6,"endColumn":15},{"ruleId":"76","severity":1,"message":"95","line":2,"column":10,"nodeType":"78","messageId":"79","endLine":2,"endColumn":26},{"ruleId":"76","severity":1,"message":"96","line":2,"column":28,"nodeType":"78","messageId":"79","endLine":2,"endColumn":36},{"ruleId":"89","severity":1,"message":"90","line":5,"column":10,"nodeType":"91","messageId":"92","endLine":5,"endColumn":24,"fix":"97"},{"ruleId":"76","severity":1,"message":"98","line":14,"column":10,"nodeType":"78","messageId":"79","endLine":14,"endColumn":17},{"ruleId":"89","severity":1,"message":"90","line":5,"column":10,"nodeType":"91","messageId":"92","endLine":5,"endColumn":24,"fix":"99"},{"ruleId":"76","severity":1,"message":"100","line":8,"column":10,"nodeType":"78","messageId":"79","endLine":8,"endColumn":24},{"ruleId":"76","severity":1,"message":"101","line":9,"column":8,"nodeType":"78","messageId":"79","endLine":9,"endColumn":19},{"ruleId":"76","severity":1,"message":"102","line":95,"column":9,"nodeType":"78","messageId":"79","endLine":95,"endColumn":16},{"ruleId":"76","severity":1,"message":"103","line":1,"column":8,"nodeType":"78","messageId":"79","endLine":1,"endColumn":14},{"ruleId":"76","severity":1,"message":"96","line":3,"column":28,"nodeType":"78","messageId":"79","endLine":3,"endColumn":36},"no-unused-vars","'Router' is defined but never used.","Identifier","unusedVar","no-native-reassign",["104"],"no-negated-in-lhs",["105"],"'makeStyles' is defined but never used.","'config' is assigned a value but never used.","'setConfig' is assigned a value but never used.","'permissions' is assigned a value but never used.","'Paper' is defined but never used.","no-useless-rename","Import token unnecessarily renamed.","ImportSpecifier","unnecessarilyRenamed",{"range":"106","text":"107"},"'Restore' is defined but never used.","'CircularProgress' is defined but never used.","'Snackbar' is defined but never used.",{"range":"108","text":"107"},"'isError' is assigned a value but never used.",{"range":"109","text":"107"},"'ToastContainer' is defined but never used.","'RestoreIcon' is defined but never used.","'classes' is assigned a value but never used.","'Button' is defined but never used.","no-global-assign","no-unsafe-negation",[144,158],"token",[187,201],[188,202]]