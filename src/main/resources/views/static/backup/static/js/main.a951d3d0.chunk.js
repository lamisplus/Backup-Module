(this.webpackJsonpDatabase_backup=this.webpackJsonpDatabase_backup||[]).push([[0],{459:function(e,t,a){},460:function(e,t,a){},548:function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),i=a(20),l=a.n(i),c=a(38),n=a(117),s=(a(458),a(459),a(460),a(610)),d=a(611),b=a(621),u=a(614),j=a(612),h=a(617),v=a(618),p=a(90),O=a.n(p);const f="eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJndWVzdEBsYW1pc3BsdXMub3JnIiwiYXV0aCI6IlN1cGVyIEFkbWluIiwibmFtZSI6Ikd1ZXN0IEd1ZXN0IiwiZXhwIjoxNzAyOTg3MzkzfQ.E1uh2B2mqZacxR0FRaI6ac5CiBBndAi_eC9JTvGQPOUXdrDcQJ0CGoM9R28SvsJBYTwVPwFQYNeJ7jjJ3zZ7zw",g="http://localhost:8789/api/v1/";var x=a(383),y=a(422),m=a.n(y),w=a(307),S=a(622),B=a(6);var _=function(e){return Object(B.jsx)("div",{style:{maxWidth:"100px"},children:Object(B.jsx)(w.a,{...e,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:Object(B.jsxs)(w.a.Body,{children:[Object(B.jsxs)("h4",{style:{display:"flex",gap:"10px",alignItems:"center",justifyContent:"center"},children:[" ",Object(B.jsx)(S.a,{size:34})," ",Object(B.jsx)("span",{children:e.message})]}),Object(B.jsx)("p",{})]})})})};var A=e=>{const[t,a]=Object(r.useState)(!1),[o,i]=Object(r.useState)(!1);return Object(B.jsxs)("div",{children:[Object(B.jsx)(x.a,{variant:"contained",startIcon:Object(B.jsx)(m.a,{}),onClick:()=>{e.setIsLoading(!0);try{O.a.get("".concat(g,"database/backup"),{headers:{Authorization:"Bearer ".concat(f)}}).then((t=>{e.setIsLoading(!1),e.pullDatabaseBackup(),n.b.success("Database Backup successfully")})).catch((t=>{n.b.error("Error: Database Backup failed!"),e.setIsLoading(!1)})),a(!0)}catch(t){i(!0)}},disabled:t,style:{backgroundColor:"#014d88",color:"#fff",float:"right"},children:"Backup Database"}),e.isLoading&&Object(B.jsx)(_,{show:!0,message:"Backing Up Database..."})]})},k=a(615);a(613),a(295);var P=a(296),z=a.n(P),R=a(402),C=a(440),L=a.n(C),I=a(427),D=a.n(I),F=a(437),E=a.n(F),N=a(428),W=a.n(N),J=a(435),T=a.n(J),H=a(305),M=a.n(H),U=a(304),V=a.n(U),X=a(429),Z=a.n(X),G=a(430),q=a.n(G),Q=a(432),Y=a.n(Q),K=a(433),$=a.n(K),ee=a(434),te=a.n(ee),ae=a(438),re=a.n(ae),oe=a(431),ie=a.n(oe),le=a(436),ce=a.n(le),ne=a(439),se=a.n(ne);var de=()=>{const[e,t]=Object(r.useState)(null),[a,o]=Object(r.useState)(!0),[i,l]=Object(r.useState)(null);return Object(r.useEffect)((()=>{(async()=>{try{const e=await O.a.get("".concat(g,"account"),{headers:{Authorization:"Bearer ".concat(f)}});t(e.data)}catch(i){l(i)}finally{o(!1)}})()}),[]),{userDetails:e,loading:a,error:i}};const be={Add:Object(r.forwardRef)(((e,t)=>Object(B.jsx)(D.a,{...e,ref:t}))),Check:Object(r.forwardRef)(((e,t)=>Object(B.jsx)(W.a,{...e,ref:t}))),Clear:Object(r.forwardRef)(((e,t)=>Object(B.jsx)(V.a,{...e,ref:t}))),Delete:Object(r.forwardRef)(((e,t)=>Object(B.jsx)(Z.a,{...e,ref:t}))),DetailPanel:Object(r.forwardRef)(((e,t)=>Object(B.jsx)(M.a,{...e,ref:t}))),Edit:Object(r.forwardRef)(((e,t)=>Object(B.jsx)(q.a,{...e,ref:t}))),Export:Object(r.forwardRef)(((e,t)=>Object(B.jsx)(ie.a,{...e,ref:t}))),Filter:Object(r.forwardRef)(((e,t)=>Object(B.jsx)(Y.a,{...e,ref:t}))),FirstPage:Object(r.forwardRef)(((e,t)=>Object(B.jsx)($.a,{...e,ref:t}))),LastPage:Object(r.forwardRef)(((e,t)=>Object(B.jsx)(te.a,{...e,ref:t}))),NextPage:Object(r.forwardRef)(((e,t)=>Object(B.jsx)(M.a,{...e,ref:t}))),PreviousPage:Object(r.forwardRef)(((e,t)=>Object(B.jsx)(T.a,{...e,ref:t}))),ResetSearch:Object(r.forwardRef)(((e,t)=>Object(B.jsx)(V.a,{...e,ref:t}))),Search:Object(r.forwardRef)(((e,t)=>Object(B.jsx)(ce.a,{...e,ref:t}))),SortArrow:Object(r.forwardRef)(((e,t)=>Object(B.jsx)(E.a,{...e,ref:t}))),ThirdStateCheck:Object(r.forwardRef)(((e,t)=>Object(B.jsx)(re.a,{...e,ref:t}))),ViewColumn:Object(r.forwardRef)(((e,t)=>Object(B.jsx)(se.a,{...e,ref:t})))},ue=Object(R.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var je=e=>{var t;ue();const[a,o]=Object(r.useState)(!1),i=null===(t=de().userDetails)||void 0===t?void 0:t.currentOrganisationUnitName;return Object(B.jsxs)("div",{children:[" ",Object(B.jsx)(z.a,{icons:be,title:"Database Backup History",columns:[{title:"File Name",field:"filename"},{title:"Action",field:"actions"}],data:e.databaseBackup.map((e=>({filename:e,actions:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(k.a,{variant:"contained",startIcon:Object(B.jsx)(L.a,{size:"22"}),style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"130px"},onClick:()=>(e=>{const t=e.replace(/^[^_]*_/,"");o(!0),O()({url:"".concat(g,"database/download/").concat(t),method:"GET",responseType:"blob",headers:{Authorization:"Bearer ".concat(f)}}).then((e=>{o(!1);const a=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");r.href=a,r.setAttribute("download",i+"_"+t),document.body.appendChild(r),r.click(),document.body.removeChild(r),n.b.success("Backup Downloaded successfully")})).catch((e=>{o(!1),n.b.error("Error: Could not download file!")}))})(e),children:"Download"})," "]})}))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff",fontSize:"16px",padding:"10px"},searchFieldStyle:{width:"200%",margingLeft:"250px"},selection:!1,filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}),a&&Object(B.jsx)(_,{show:!0,message:"Downloading..."})]})};var he=()=>{var e;const[t,a]=Object(r.useState)([]),[o,i]=Object(r.useState)(!1),l=null===(e=de().userDetails)||void 0===e?void 0:e.currentOrganisationUnitName,c=()=>{O.a.get("".concat(g,"database/backup-available"),{headers:{Authorization:"Bearer ".concat(f)}}).then((e=>a(e.data)))};console.log("data-1",t),Object(r.useEffect)((()=>{c()}),[]);const n=t.map((e=>l+"_"+e));return console.log("data-2",n),Object(B.jsx)(h.a,{maxWidth:"xl",children:Object(B.jsxs)(v.a,{container:!0,spacing:1,children:[Object(B.jsx)("br",{}),Object(B.jsx)(v.a,{item:!0,xs:12,md:12,children:Object(B.jsx)(A,{pullDatabaseBackup:c,isLoading:o,setIsLoading:i})}),Object(B.jsxs)(v.a,{item:!0,xs:12,md:12,children:[Object(B.jsx)("br",{}),Object(B.jsx)(je,{databaseBackup:n})]})]})})};const ve={borderRadius:"2px",fontSize:14};var pe=e=>{const[t,a]=Object(r.useState)("manifest-list"),[o,i]=Object(r.useState)({}),l=e.location&&e.location.state?e.location.state:null,[c,n]=Object(r.useState)([]);return Object(r.useEffect)((()=>(O.a.get("".concat(g,"account"),{headers:{Authorization:"Bearer ".concat(f)}}).then((e=>{n(e.data.permissions)})).catch((e=>{})),a("backup"))),[l]),Object(B.jsx)(r.Fragment,{children:Object(B.jsx)(s.a,{children:Object(B.jsx)(d.a,{xl:12,children:Object(B.jsx)(b.a,{style:ve,children:Object(B.jsx)(b.a.Body,{children:Object(B.jsx)("div",{className:"custom-tab-1",children:Object(B.jsx)(u.a,{id:"controlled-tab-example",activeKey:t,onSelect:e=>a(e),className:"mb-3",children:Object(B.jsx)(j.a,{eventKey:"backup",title:"Database backup",children:Object(B.jsx)(he,{})})})})})})})})})};function Oe(){return Object(B.jsxs)("div",{children:[Object(B.jsx)(n.a,{}),Object(B.jsx)(c.c,{children:Object(B.jsx)(c.a,{path:"/",children:Object(B.jsx)(pe,{})})})]})}var fe=a(302),ge=a(441);let xe="ltr";const ye=[{typography:"poppins",version:"light",layout:"vertical",headerBg:"color_1",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"full",direction:xe},{typography:"poppins",version:"light",layout:"vertical",primary:"color_5",headerBg:"color_5",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",direction:xe},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_11",headerBg:"color_1",sidebarBg:"color_11",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_11",direction:xe},{typography:"poppins",version:"dark",layout:"vertical",headerBg:"color_3",navheaderBg:"color_3",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_1",direction:xe},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_15",headerBg:"color_1",sidebarStyle:"full",sidebarBg:"color_1",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_15",direction:xe},{typography:"poppins",version:"light",layout:"horizontal",navheaderBg:"color_1",headerBg:"color_1",sidebarBg:"color_9",sidebarStyle:"modern",sidebarPosition:"static",headerPosition:"fixed",containerLayout:"wide",primary:"color_9",direction:xe}],me=Object(r.createContext)();var we=e=>{const[t,a]=Object(r.useState)({value:"full",label:"Full"}),[o,i]=Object(r.useState)({value:"fixed",label:"Fixed"}),[l,c]=Object(r.useState)({value:"fixed",label:"Fixed"}),[n,s]=Object(r.useState)({value:"vertical",label:"Vertical"}),[d,b]=Object(r.useState)({value:"ltr",label:"LTR"}),[u,j]=Object(r.useState)("color_1"),[h,v]=Object(r.useState)("color_1"),[p,O]=Object(r.useState)("color_1"),[f,g]=Object(r.useState)("color_1"),[x,y]=Object(r.useState)(!1),[m,w]=Object(r.useState)(!1),[S,_]=Object(r.useState)({value:"light",label:"Light"}),[A,k]=Object(r.useState)({value:"wide-boxed",label:"Wide Boxed"}),P=document.querySelector("body"),[z,R]=Object(r.useState)(0),[C,L]=Object(r.useState)(0),I=e=>{j(e),P.setAttribute("data-primary",e)},D=e=>{v(e),P.setAttribute("data-nav-headerbg",e)},F=e=>{O(e),P.setAttribute("data-headerbg",e)},E=e=>{g(e),P.setAttribute("data-sibebarbg",e)},N=e=>{i(e),P.setAttribute("data-sidebar-position",e.value)},W=e=>{b(e),P.setAttribute("direction",e.value);let t=document.querySelector("html");t.setAttribute("dir",e.value),t.className=e.value},J=e=>{"horizontal"===e.value&&"overlay"===t.value?(s(e),P.setAttribute("data-layout",e.value),a({value:"full",label:"Full"}),P.setAttribute("data-sidebar-style","full")):(s(e),P.setAttribute("data-layout",e.value))},T=e=>{"horizontal"===n.value&&"overlay"===e.value?alert("Sorry! Overlay is not possible in Horizontal layout."):(a(e),y("icon-hover"===e.value?"_i-hover":""),P.setAttribute("data-sidebar-style",e.value))},H=e=>{c(e),P.setAttribute("data-header-position",e.value)},M=e=>{P.setAttribute("data-theme-version",e.value),_(e)},U=e=>{k(e),P.setAttribute("data-container",e.value),"boxed"===e.value&&T({value:"overlay",label:"Overlay"})};return Object(r.useEffect)((()=>{const e=document.querySelector("body");e.setAttribute("data-typography","poppins"),e.setAttribute("data-theme-version","light"),e.setAttribute("data-layout","vertical"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-nav-headerbg","color_1"),e.setAttribute("data-headerbg","color_1"),e.setAttribute("data-sidebar-style","overlay"),e.setAttribute("data-sibebarbg","color_1"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-sidebar-position","fixed"),e.setAttribute("data-header-position","fixed"),e.setAttribute("data-container","wide"),e.setAttribute("direction","ltr");let t=()=>{R(window.innerWidth),L(window.innerHeight),window.innerWidth>=768&&window.innerWidth<1024?e.setAttribute("data-sidebar-style","mini"):window.innerWidth<=768?e.setAttribute("data-sidebar-style","overlay"):e.setAttribute("data-sidebar-style","full")};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),Object(B.jsx)(me.Provider,{value:{body:P,sideBarOption:[{value:"compact",label:"Compact"},{value:"full",label:"Full"},{value:"mini",label:"Mini"},{value:"modern",label:"Modern"},{value:"overlay",label:"Overlay"},{value:"icon-hover",label:"Icon-hover"}],layoutOption:[{value:"vertical",label:"Vertical"},{value:"horizontal",label:"Horizontal"}],backgroundOption:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],sidebarposition:o,headerPositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],containerPosition:[{value:"wide-boxed",label:"Wide Boxed"},{value:"boxed",label:"Boxed"},{value:"wide",label:"Wide"}],directionPosition:[{value:"ltr",label:"LTR"},{value:"rtl",label:"RTL"}],fontFamily:[{value:"poppins",label:"Poppins"},{value:"roboto",label:"Roboto"},{value:"cairo",label:"Cairo"},{value:"opensans",label:"Open Sans"},{value:"HelveticaNeue",label:"HelveticaNeue"}],primaryColor:u,navigationHader:h,windowWidth:z,windowHeight:C,changePrimaryColor:I,changeNavigationHader:D,changeSideBarStyle:T,sideBarStyle:t,changeSideBarPostion:N,sidebarpositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],changeHeaderPostion:H,headerposition:l,changeSideBarLayout:J,sidebarLayout:n,changeDirectionLayout:W,changeContainerPosition:U,direction:d,colors:["color_1","color_2","color_3","color_4","color_5","color_6","color_7","color_8","color_9","color_10","color_11","color_12","color_13","color_14","color_15"],haderColor:p,chnageHaderColor:F,chnageSidebarColor:E,sidebarColor:f,iconHover:x,menuToggle:m,openMenuToggle:()=>{"overly"===t.value?w(!0):w(!1)},changeBackground:M,background:S,containerPosition_:A,setDemoTheme:(e,t)=>{var a={},r=ye[e];P.setAttribute("data-typography",r.typography),a.value=r.version,M(a),a.value=r.layout,J(a),I(r.primary),D(r.navheaderBg),F(r.headerBg),a.value=r.sidebarStyle,T(a),E(r.sidebarBg),a.value=r.sidebarPosition,N(a),a.value=r.headerPosition,H(a),a.value=r.containerLayout,U(a),a.value=t,W(a)}},children:e.children})};l.a.render(Object(B.jsx)(o.a.StrictMode,{children:Object(B.jsx)(ge.a,{children:Object(B.jsx)(fe.a,{basename:"/",children:Object(B.jsx)(we,{children:Object(B.jsx)(Oe,{})})})})}),document.getElementById("root"))}},[[548,1,2]]]);
//# sourceMappingURL=main.a951d3d0.chunk.js.map